
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:pe="http://primefaces.org/ui/extensions">
	

<ui:composition>
	<br> </br>
	<br> </br>
	<br> </br>
	<div class="well container">
       <br/>
	     <!-- messages errors + exception -->
		   <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />   
		 <!-- Form validations -->  
		 <section class="wrapper">
		  <div class="row">
				<div class="col-lg-12">
					<ol class="breadcrumb">
						<h3 class="page-header"><i><h:graphicImage name="NiceAdmin/img/form.png"/> </i> Form Prospection</h3>
					</ol>
				</div>
			</div>            
              <div class="row">
                  <div class="col-lg-12">
                      <section class="panel">
                          <header class="panel-heading">
                              Suivi Prospection
                          </header>
                          <div class="panel-body">
                              <div class="form">
                                  <h:form class="form-validate form-horizontal">
                                      <div class="form-group ">
                                          <label for="session" class="control-label col-lg-2">Session en Cours :</label>
                                          <div class="col-lg-10">
											<h:outputText value="Formation: #{scheduleView.sessionFormateur.specialite.designation}"/><br />
											
                                          </div>
                                       </div>
                                        <br/><br/>
                                       <!-- Affichage Evenement/Etudiant --> 
									  <c:if test="#{fn:length(scheduleView.students) >0 }">
										<div align="center">
										      <!-- more Informations width tag absence-->
										      <div class="champsObligatoire">
										      <h:outputText style="color:black" value="Merci de remplir tous les champs du tableau ci-dessous afin que nous puissions rediriger toutes les informations  vers Nos clients.  " />
						                      </div>
										    <br/> <br/>
										    <p:dataTable reflow="true" var="e" value="#{scheduleView.students}"
												id="studentTable" editable="true" editMode="cell" widgetVar="cellSchedule"
												style="width:96%;margin-bottom:20px;">
						
												<f:facet name="header">
													<h:outputText value="Suivi collaborateurs - Session n°: " />
													<h:outputText style="color:red;font-weight:bold;" value="#{scheduleView.sessionFormateur.idSession}"/>
													<h:outputText style="color:red;font-weight:bold" value="  Formation : #{scheduleView.sessionFormateur.specialite.designation} ; " />
													<h:outputText style="color:red;font-weight:bold" value="  Début:#{scheduleView.sessionFormateur.dateDebute} ; "/>
													<h:outputText style="color:red;font-weight:bold" value="  Fin:#{scheduleView.sessionFormateur.dateFin}"/>
												</f:facet>
												
												<p:column style="width:100px;">
														<f:facet name="header">
														<h:outputText value="Nom" />
														</f:facet>
													    <h:outputText value="#{e.nomEtudiant}" />
												</p:column>
												<p:column style="width:100px;">
														<f:facet name="header">
														     <h:outputText value="Prenom" />
														</f:facet>
													    <h:outputText value="#{e.prenomEtudiant}" />
												</p:column>
												
												<p:column style="width:190px;">
												    <f:facet name="header">
														<h:outputText value="Risque" />
													</f:facet>
										           <p:cellEditor>
										               <f:facet name="output"><h:outputText value="#{e.risque[0]}" style="cursor:pointer"/></f:facet>
										               <f:facet name="input">
										                <p:selectOneMenu value="#{e.risque[0]}" style="width:200px">
						                                  <f:selectItems value="#{e.risque}" var="r" itemLabel="#{r}" itemValue="#{r}"  />
						                                </p:selectOneMenu>
										               </f:facet>
										            </p:cellEditor>
												</p:column>
												<p:column>
												    <f:facet name="header">
														<h:outputText value="Commentaires" />
													</f:facet>
										            <p:cellEditor>
										               <f:facet name="output"><h:outputText value="#{e.comportement[0]}" style="cursor:pointer" /></f:facet>
										               <f:facet name="input">
										                <p:selectOneMenu value="#{e.comportement[0]}" style="width:100%">
						                                  <f:selectItems value="#{e.comportement}" var="c" itemLabel="#{c}" itemValue="#{c}" />
						                                </p:selectOneMenu>
										               </f:facet>
										            </p:cellEditor>
												</p:column>
												<p:columnGroup type="footer">
						                          <p:row>
									                 <p:column colspan="2" style="text-align:center" footerText="Etudiant"/>
									                
									                 <p:column colspan="2" footerText="Suivi Prospection"/>
									              </p:row>
									            </p:columnGroup>
											</p:dataTable>
											<p:commandButton value="générer un excel" id="xls" ajax="false">  
									        <f:setPropertyActionListener value="false" target="#{exporterController.customExporter}" />  
									        <pe:exporter type="xlsx" target="studentTable" fileName="GroupedTable"/>  
						  
						                    </p:commandButton>  
						                    
						                    <p:commandButton value="générer un pdf"  id="pdf" ajax="false">  
									        <f:setPropertyActionListener value="false" target="#{exporterController.customExporter}" />  
									        <pe:exporter type="pdf" target="studentTable" fileName="GroupedTable"/>  
						  
						                    </p:commandButton> 
											
										</div>
									</c:if>
                                  </h:form>
                              </div>
                          </div>
                      </section>
                  </div>
              </div>
          </section>
	</div>
</ui:composition>
</html>

